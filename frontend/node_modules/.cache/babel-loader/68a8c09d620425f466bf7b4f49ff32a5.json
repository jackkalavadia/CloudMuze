{"ast":null,"code":"var _jsxFileName = \"/Users/spartan/Downloads/sleepify/frontend/src/components/session/signup_form.js\";\nimport React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      email2: '',\n      username: '',\n      password: '',\n      password2: '',\n      birthdate: '',\n      errors: {},\n      error_touched: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false\n      },\n      error_exists: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false\n      }\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearedErrors = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.signedIn === true) {\n      this.props.history.push('/login');\n    }\n\n    this.setState({\n      errors: nextProps.errors\n    });\n  }\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email2: this.state.email2,\n      email: this.state.email,\n      username: this.state.username,\n      password: this.state.password,\n      password2: this.state.password2,\n      birthdate: this.state.birthdate\n    };\n    this.resetErrorDisplay();\n    this.props.signup(user, this.props.history);\n  }\n\n  resetErrorDisplay() {\n    this.setState({\n      error_touched: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false\n      }\n    });\n  }\n\n  handleOnFocus(field) {\n    const touchField = this.state.error_touched;\n    touchField[field] = true;\n    return () => this.setState({\n      touchField\n    });\n  }\n\n  renderError(field) {\n    if (!this.state.error_touched[field]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: `${field}-error`,\n        className: \"signup error-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }, this.state.errors[field]);\n    }\n  }\n\n  renderInputField(field) {\n    let placeholder = field.charAt(0).toUpperCase() + field.substring(1);\n\n    if (field.includes('2')) {\n      placeholder = placeholder.substring(0, placeholder.length - 1) + ' Confirm';\n    }\n\n    let type;\n\n    if (field.includes('email') || field === 'username') {\n      type = 'text';\n    } else if (field.includes('password')) {\n      type = 'password';\n    } else {\n      type = 'Date';\n    }\n\n    if (!this.state.error_touched[field] && this.state.errors[field]) {\n      return /*#__PURE__*/React.createElement(\"input\", {\n        id: field,\n        type: type,\n        className: \"signup-border has-error\",\n        value: this.state[field],\n        onChange: this.update(field),\n        placeholder: placeholder,\n        onFocus: () => this.handleOnFocus(field),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"input\", {\n        id: field,\n        type: type,\n        className: \"signup-border\",\n        value: this.state[field],\n        onChange: this.update(field),\n        placeholder: placeholder,\n        onFocus: () => this.handleOnFocus(field),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 8\n      }\n    }, \"Rock-N-Roll\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-input email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, this.renderInputField('email'), this.renderError('email')), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-input email2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, this.renderInputField('email2'), this.renderError('email2')), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-input password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, this.renderInputField('password'), this.renderError('password')), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-input password2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }, this.renderInputField('password2'), this.renderError('password2')), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-input username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, this.renderInputField('username'), this.renderError('username')), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-input birthdate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, \"Date of Birth\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"birthdate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, this.renderInputField('birthdate'), this.renderError('birthdate')))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-disclaimer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, \"By signing up, you agree to Sleepify's Terms and Conditions of Use\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"SIGN UP\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-instead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, \"Already have an account?\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, \" Log in \"))))));\n  }\n\n}\n\nexport default withRouter(SignupForm);","map":{"version":3,"sources":["/Users/spartan/Downloads/sleepify/frontend/src/components/session/signup_form.js"],"names":["React","withRouter","Link","SignupForm","Component","constructor","props","state","email","email2","username","password","password2","birthdate","errors","error_touched","error_exists","handleSubmit","bind","clearedErrors","componentWillReceiveProps","nextProps","signedIn","history","push","setState","update","field","e","currentTarget","value","preventDefault","user","resetErrorDisplay","signup","handleOnFocus","touchField","renderError","renderInputField","placeholder","charAt","toUpperCase","substring","includes","length","type","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,kBAAjC;;AAEA,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAyC;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,MAAM,EAAE,EAFG;AAGXC,MAAAA,QAAQ,EAAE,EAHC;AAIXC,MAAAA,QAAQ,EAAE,EAJC;AAKXC,MAAAA,SAAS,EAAE,EALA;AAMXC,MAAAA,SAAS,EAAE,EANA;AAOXC,MAAAA,MAAM,EAAE,EAPG;AAQXC,MAAAA,aAAa,EAAE;AACbP,QAAAA,KAAK,EAAE,KADM;AAEbC,QAAAA,MAAM,EAAE,KAFK;AAGbE,QAAAA,QAAQ,EAAE,KAHG;AAIbC,QAAAA,SAAS,EAAE,KAJE;AAKbF,QAAAA,QAAQ,EAAE,KALG;AAMbG,QAAAA,SAAS,EAAE;AANE,OARJ;AAgBXG,MAAAA,YAAY,EAAE;AACZR,QAAAA,KAAK,EAAE,KADK;AAEZC,QAAAA,MAAM,EAAE,KAFI;AAGZE,QAAAA,QAAQ,EAAE,KAHE;AAIZC,QAAAA,SAAS,EAAE,KAJC;AAKZF,QAAAA,QAAQ,EAAE,KALE;AAMZG,QAAAA,SAAS,EAAE;AANC;AAhBH,KAAb;AA2BA,SAAKI,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,aAAL,GAAqB,KAArB;AACD;;AAEDC,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACnC,QAAIA,SAAS,CAACC,QAAV,KAAuB,IAA3B,EAAiC;AAC/B,WAAKhB,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD;;AAED,SAAKC,QAAL,CAAc;AAACX,MAAAA,MAAM,EAAEO,SAAS,CAACP;AAAnB,KAAd;AACD;;AAEDY,EAAAA,MAAM,CAACC,KAAD,EAAQ;AACZ,WAAOC,CAAC,IAAI,KAAKH,QAAL,CAAc;AACxB,OAACE,KAAD,GAASC,CAAC,CAACC,aAAF,CAAgBC;AADD,KAAd,CAAZ;AAGD;;AAEDb,EAAAA,YAAY,CAACW,CAAD,EAAI;AACdA,IAAAA,CAAC,CAACG,cAAF;AACA,QAAIC,IAAI,GAAG;AACTvB,MAAAA,MAAM,EAAE,KAAKF,KAAL,CAAWE,MADV;AAETD,MAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAFT;AAGTE,MAAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWG,QAHZ;AAITC,MAAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWI,QAJZ;AAKTC,MAAAA,SAAS,EAAE,KAAKL,KAAL,CAAWK,SALb;AAMTC,MAAAA,SAAS,EAAE,KAAKN,KAAL,CAAWM;AANb,KAAX;AAQA,SAAKoB,iBAAL;AACA,SAAK3B,KAAL,CAAW4B,MAAX,CAAkBF,IAAlB,EAAwB,KAAK1B,KAAL,CAAWiB,OAAnC;AACD;;AAEDU,EAAAA,iBAAiB,GAAG;AAClB,SAAKR,QAAL,CAAc;AACZV,MAAAA,aAAa,EAAE;AACbP,QAAAA,KAAK,EAAE,KADM;AAEbC,QAAAA,MAAM,EAAE,KAFK;AAGbE,QAAAA,QAAQ,EAAE,KAHG;AAIbC,QAAAA,SAAS,EAAE,KAJE;AAKbF,QAAAA,QAAQ,EAAE,KALG;AAMbG,QAAAA,SAAS,EAAE;AANE;AADH,KAAd;AAUD;;AAEDsB,EAAAA,aAAa,CAACR,KAAD,EAAQ;AACnB,UAAMS,UAAU,GAAG,KAAK7B,KAAL,CAAWQ,aAA9B;AACAqB,IAAAA,UAAU,CAACT,KAAD,CAAV,GAAoB,IAApB;AACA,WAAO,MAAM,KAAKF,QAAL,CAAc;AACzBW,MAAAA;AADyB,KAAd,CAAb;AAGD;;AAEDC,EAAAA,WAAW,CAACV,KAAD,EAAQ;AACjB,QAAI,CAAC,KAAKpB,KAAL,CAAWQ,aAAX,CAAyBY,KAAzB,CAAL,EAAsC;AACpC,0BACE;AAAK,QAAA,EAAE,EAAG,GAAEA,KAAM,QAAlB;AAA2B,QAAA,SAAS,EAAC,kBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKpB,KAAL,CAAWO,MAAX,CAAkBa,KAAlB,CADH,CADF;AAKD;AACF;;AAEDW,EAAAA,gBAAgB,CAACX,KAAD,EAAQ;AACtB,QAAIY,WAAW,GAAGZ,KAAK,CAACa,MAAN,CAAa,CAAb,EAAgBC,WAAhB,KAAgCd,KAAK,CAACe,SAAN,CAAgB,CAAhB,CAAlD;;AACA,QAAGf,KAAK,CAACgB,QAAN,CAAe,GAAf,CAAH,EAAwB;AACtBJ,MAAAA,WAAW,GAAGA,WAAW,CAACG,SAAZ,CAAsB,CAAtB,EAAyBH,WAAW,CAACK,MAAZ,GAAqB,CAA9C,IAAmD,UAAjE;AACD;;AACD,QAAIC,IAAJ;;AACA,QAAKlB,KAAK,CAACgB,QAAN,CAAe,OAAf,KAA2BhB,KAAK,KAAK,UAA1C,EAAuD;AACrDkB,MAAAA,IAAI,GAAG,MAAP;AACD,KAFD,MAEO,IAAIlB,KAAK,CAACgB,QAAN,CAAe,UAAf,CAAJ,EAAgC;AACrCE,MAAAA,IAAI,GAAG,UAAP;AACD,KAFM,MAEA;AACLA,MAAAA,IAAI,GAAG,MAAP;AACD;;AACD,QAAI,CAAC,KAAKtC,KAAL,CAAWQ,aAAX,CAAyBY,KAAzB,CAAD,IAAoC,KAAKpB,KAAL,CAAWO,MAAX,CAAkBa,KAAlB,CAAxC,EAAkE;AAChE,0BACI;AAAO,QAAA,EAAE,EAAEA,KAAX;AACE,QAAA,IAAI,EAAEkB,IADR;AAEE,QAAA,SAAS,EAAC,yBAFZ;AAGE,QAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWoB,KAAX,CAHT;AAIE,QAAA,QAAQ,EAAE,KAAKD,MAAL,CAAYC,KAAZ,CAJZ;AAKE,QAAA,WAAW,EAAEY,WALf;AAME,QAAA,OAAO,EAAE,MAAM,KAAKJ,aAAL,CAAmBR,KAAnB,CANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AASD,KAVD,MAUO;AACL,0BACI;AAAO,QAAA,EAAE,EAAEA,KAAX;AACE,QAAA,IAAI,EAAEkB,IADR;AAEE,QAAA,SAAS,EAAC,eAFZ;AAGE,QAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWoB,KAAX,CAHT;AAIE,QAAA,QAAQ,EAAE,KAAKD,MAAL,CAAYC,KAAZ,CAJZ;AAKE,QAAA,WAAW,EAAEY,WALf;AAME,QAAA,OAAO,EAAE,MAAM,KAAKJ,aAAL,CAAmBR,KAAnB,CANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AASD;AACF;;AACDmB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,eAIE;AAAM,MAAA,QAAQ,EAAE,KAAK7B,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKqB,gBAAL,CAAsB,OAAtB,CADH,EAEG,KAAKD,WAAL,CAAiB,OAAjB,CAFH,CAFJ,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAOI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKC,gBAAL,CAAsB,QAAtB,CADH,EAEG,KAAKD,WAAL,CAAiB,QAAjB,CAFH,CAPJ,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAYI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKC,gBAAL,CAAsB,UAAtB,CADH,EAEG,KAAKD,WAAL,CAAiB,UAAjB,CAFH,CAZJ,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,eAiBI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKC,gBAAL,CAAsB,WAAtB,CADH,EAEG,KAAKD,WAAL,CAAiB,WAAjB,CAFH,CAjBJ,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,eAsBI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKC,gBAAL,CAAsB,UAAtB,CADH,EAEG,KAAKD,WAAL,CAAiB,UAAjB,CAFH,CAtBJ,eA0BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1BF,eA2BI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAEE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKC,gBAAL,CAAsB,WAAtB,CADH,EAEG,KAAKD,WAAL,CAAiB,WAAjB,CAFH,CAFF,CADF,CA3BJ,eAoCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApCF,eAqCE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EADF,CArCF,eAwCE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAxCF,eA2CE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAEE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CADF,CA3CF,CADF,CAJF,CADF;AA4DD;;AA7LsC;;AAgMzC,eAAepC,UAAU,CAACE,UAAD,CAAzB","sourcesContent":["import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      email2: '',\n      username: '',\n      password: '',\n      password2: '',\n      birthdate: '',\n      errors: {},\n      error_touched: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false,\n      },\n      error_exists: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false,\n      }\n\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearedErrors = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.signedIn === true) {\n      this.props.history.push('/login');\n    }\n\n    this.setState({errors: nextProps.errors})\n  }\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value, \n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email2: this.state.email2,\n      email: this.state.email,\n      username: this.state.username,\n      password: this.state.password,\n      password2: this.state.password2,\n      birthdate: this.state.birthdate,\n    };\n    this.resetErrorDisplay();\n    this.props.signup(user, this.props.history)\n  }\n\n  resetErrorDisplay() {\n    this.setState({\n      error_touched: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false,\n      },\n    })\n  }\n\n  handleOnFocus(field) {\n    const touchField = this.state.error_touched;\n    touchField[field] = true;\n    return () => this.setState({\n      touchField\n    })\n  }\n\n  renderError(field) {\n    if (!this.state.error_touched[field]) {\n      return (\n        <div id={`${field}-error`} className='signup error-div'>\n          {this.state.errors[field]}\n        </div>\n      )\n    }\n  }\n  \n  renderInputField(field) {\n    let placeholder = field.charAt(0).toUpperCase() + field.substring(1);\n    if(field.includes('2')) {\n      placeholder = placeholder.substring(0, placeholder.length - 1) + ' Confirm'\n    }\n    let type;\n    if ((field.includes('email') || field === 'username')) {\n      type = 'text'\n    } else if (field.includes('password')) {\n      type = 'password'\n    } else {\n      type = 'Date'\n    }\n    if (!this.state.error_touched[field] && this.state.errors[field]) {\n      return (\n          <input id={field} \n            type={type}\n            className=\"signup-border has-error\"\n            value={this.state[field]}\n            onChange={this.update(field)}\n            placeholder={placeholder}\n            onFocus={() => this.handleOnFocus(field)}/>\n      )\n    } else {\n      return (\n          <input id={field}\n            type={type}\n            className=\"signup-border\"\n            value={this.state[field]}\n            onChange={this.update(field)}\n            placeholder={placeholder}\n            onFocus={() => this.handleOnFocus(field)}/>\n      )\n    }\n  }\n  render() {\n    return (\n      <div className=\"signup-form-container\">\n       <div className='heading'>\n         Rock-N-Roll\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"signup-form\">\n            <br/>\n              <div className=\"signup-input email\">\n                {this.renderInputField('email')}\n                {this.renderError('email')}\n              </div>\n            <br/>\n              <div className=\"signup-input email2\">\n                {this.renderInputField('email2')}\n                {this.renderError('email2')}\n              </div>\n            <br/>\n              <div className=\"signup-input password\">\n                {this.renderInputField('password')}\n                {this.renderError('password')}\n              </div>\n            <br/>\n              <div className=\"signup-input password2\">\n                {this.renderInputField('password2')}\n                {this.renderError('password2')}\n              </div>\n            <br/>\n              <div className=\"signup-input username\">\n                {this.renderInputField('username')}\n                {this.renderError('username')}\n              </div>\n            <br/>\n              <div className=\"signup-input birthdate\">\n                <label>\n                  Date of Birth\n                  <div className=\"birthdate\">\n                    {this.renderInputField('birthdate')}\n                    {this.renderError('birthdate')}\n                  </div>\n                </label>\n              </div>\n            <br/>\n            <div className=\"signup-disclaimer\">\n              <p>By signing up, you agree to Sleepify's Terms and Conditions of Use</p>\n            </div>\n            <div className=\"signup-button\">\n              <input type=\"submit\" value=\"SIGN UP\" />\n            </div>\n            <div className=\"login-instead\">\n              <label>\n                Already have an account? \n                <Link to='/login'> Log in </Link>\n              </label>\n            </div>\n\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SignupForm);"]},"metadata":{},"sourceType":"module"}