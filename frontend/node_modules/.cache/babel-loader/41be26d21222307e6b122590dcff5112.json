{"ast":null,"code":"var _jsxFileName = \"/Users/spartan/Downloads/sleepify/frontend/src/components/show/album_show.js\";\nimport React from 'react';\nimport AlbumSongIndexItem from '../index/album_song_index_item';\nimport { Link } from 'react-router-dom';\n\nclass AlbumShow extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      albumLiked: null\n    };\n    this.toggleAlbumLike = this.toggleAlbumLike.bind(this);\n    this.renderAlbumLike = this.renderAlbumLike.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.fetchAlbum(this.props.match.params.id);\n    this.props.fetchUser(this.props.currentUserId); // this.setState();\n  }\n\n  renderAlbumLike() {\n    if (this.props.currentUser && this.props.currentUser.likedAlbums.includes(this.props.match.params.id)) {\n      return /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-heart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 9\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"i\", {\n        className: \"far fa-heart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }\n      });\n    }\n  }\n\n  toggleAlbumLike() {\n    const likeData = {\n      userId: this.props.currentUser._id,\n      albumId: this.props.match.params.id\n    };\n    this.props.toggleAlbumLike(likeData);\n    this.setState({\n      albumLiked: this.props.currentUser.likedAlbums.includes(this.props.album._id)\n    });\n  }\n\n  render() {\n    let liSongs;\n    if (!this.props.album[this.props.match.params.id]) return null;\n    let album = this.props.album[this.props.match.params.id];\n    let songs = album.songs;\n\n    if (album) {\n      liSongs = songs.map(song => /*#__PURE__*/React.createElement(AlbumSongIndexItem, {\n        key: song.id,\n        song: song,\n        playTrack: this.props.playTrack,\n        addTrack: this.props.addTrack,\n        addSongToPlaylist: this.props.addSongToPlaylist,\n        openModal: this.props.openModal,\n        closeModal: this.props.closeModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 35\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"album-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"album-background-photo\",\n      src: \"static/images/gradient.jpg\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"open-player-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"artist-show-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"album-show-photo\",\n      src: album.imageUrl,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"album-header-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"album-show-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, album.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"album-by\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, \"By \", /*#__PURE__*/React.createElement(Link, {\n      className: \"album-artist-name\",\n      to: `/open/artist/${album.artist._id}`,\n      id: album.artist._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 42\n      }\n    }, album.artist.name)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"album-year\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, album.year, \"  \\u2022  \", songs.length, \" SONGS\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"album-show-interactive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"album-show-play\",\n      onClick: e => this.props.playAllTracks(songs),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, \"PLAY\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"like-album\",\n      onClick: this.toggleAlbumLike,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, this.renderAlbumLike()), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"album-options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-ellipsis-h\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 46\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"album-show-songs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, liSongs)));\n  }\n\n}\n\n;\nexport default AlbumShow;","map":{"version":3,"sources":["/Users/spartan/Downloads/sleepify/frontend/src/components/show/album_show.js"],"names":["React","AlbumSongIndexItem","Link","AlbumShow","Component","constructor","props","state","albumLiked","toggleAlbumLike","bind","renderAlbumLike","componentDidMount","fetchAlbum","match","params","id","fetchUser","currentUserId","currentUser","likedAlbums","includes","likeData","userId","_id","albumId","setState","album","render","liSongs","songs","map","song","playTrack","addTrack","addSongToPlaylist","openModal","closeModal","imageUrl","title","artist","name","year","length","e","playAllTracks"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AlbumSongIndexItem from '../index/album_song_index_item';\nimport { Link } from 'react-router-dom';\n\nclass AlbumShow extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      albumLiked: null,\n    }\n    \n    this.toggleAlbumLike = this.toggleAlbumLike.bind(this);\n    this.renderAlbumLike = this.renderAlbumLike.bind(this);\n  }\n  componentDidMount() {\n    this.props.fetchAlbum(this.props.match.params.id);\n    this.props.fetchUser(this.props.currentUserId);\n    // this.setState();\n  }\n\n  renderAlbumLike() {\n  \n    if (this.props.currentUser && this.props.currentUser.likedAlbums.includes(this.props.match.params.id)) {\n      return (\n        <i className=\"fas fa-heart\"></i>\n        )\n      } else {\n        return (\n          <i className=\"far fa-heart\"></i>\n          )\n        }\n      }\n      \n  toggleAlbumLike() {\n    const likeData = {\n      userId: this.props.currentUser._id,\n      albumId: this.props.match.params.id,\n    }\n    this.props.toggleAlbumLike(likeData)\n    this.setState({\n      albumLiked: this.props.currentUser.likedAlbums.includes(this.props.album._id)\n    });\n  }\n\n  render() {\n    let liSongs;\n    if (!this.props.album[this.props.match.params.id]) return null;\n    let album = this.props.album[this.props.match.params.id];\n    let songs = album.songs;\n    if (album) {\n      liSongs = songs.map(song => <AlbumSongIndexItem key={song.id} song={song} playTrack={this.props.playTrack} addTrack={this.props.addTrack} addSongToPlaylist={this.props.addSongToPlaylist} openModal={this.props.openModal} closeModal={this.props.closeModal} />);\n    }\n    return (\n        <div className=\"album-page\"> \n          <img className=\"album-background-photo\" src=\"static/images/gradient.jpg\" alt=\"\"></img>\n          <div className=\"open-player-body\">\n          <div className=\"artist-show-header\">\n            <img className=\"album-show-photo\" src={album.imageUrl} alt=\"\"/>\n            <div className=\"album-header-info\">\n            <h1 className=\"album-show-title\">{album.title}</h1>\n            <div className=\"album-by\">By <Link className=\"album-artist-name\" to={`/open/artist/${album.artist._id}`} id={album.artist._id}>{album.artist.name}</Link></div>\n            <p className=\"album-year\">{album.year}  •  {songs.length} SONGS</p>\n            <div className=\"album-show-interactive\">\n                <button className=\"album-show-play\" onClick={(e) => this.props.playAllTracks(songs)}>PLAY</button>\n                <div className=\"like-album\" onClick={this.toggleAlbumLike}>{this.renderAlbumLike()}</div>\n                <p className=\"album-options\"><i className=\"fas fa-ellipsis-h\" aria-hidden=\"true\"></i></p>\n            </div>\n            </div>\n          </div>\n          <div className=\"album-show-songs\">\n            {liSongs}\n          </div>\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default AlbumShow; "]},"metadata":{},"sourceType":"module"}